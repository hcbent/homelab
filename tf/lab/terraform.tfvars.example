# Example Terraform variables for Elasticsearch cluster
# Copy this file to terraform.tfvars and configure for your environment
#
# IMPORTANT: Credentials are retrieved from Vault
# Run: export VAULT_ADDR="https://192.168.10.101:8200"
# Run: export VAULT_TOKEN=$(vault login -token-only)
#
# Secrets stored in Vault:
# - vault kv get secret/homelab/proxmox/terraform  (pm_user, pm_password, ciuser, cipassword)

# Proxmox API credentials are retrieved from Vault (see provider.tf)
# pm_user = ""       # Retrieved from: vault kv get -field=username secret/homelab/proxmox/terraform
# pm_password = ""   # Retrieved from: vault kv get -field=password secret/homelab/proxmox/terraform

# Cloud-init user configuration is retrieved from Vault
# ciuser = ""        # Retrieved from: vault kv get -field=ciuser secret/homelab/proxmox/terraform
# cipassword = ""    # Retrieved from: vault kv get -field=cipassword secret/homelab/proxmox/terraform

# SSH public key for cloud-init user (not sensitive, can be in tfvars)
sshkeys = "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC26I0e0v2ZSYBYUCMLRjlr2c1mekBs2ngR5CsVdGCqw2/G/GCwdTQ4MKWarvANz3MJ1QrUdjfeJuvI0a2eXR0OlCAxLqdg19nblgzgaZsvk/2K+hv3K3mDA882nAB9/RwyNxL0d9FUEES6iZ5A4NiX19luG7e4SWNIsuPOT25gGUPRRrCJPmnZWuO6vHNiTQT8MZlXVpnfntYoYBD5AW+bMobsUFpCc4g88pzX7lRnKrIAsvlTLjvLKlXUVE0ADBXgtk68i+FnejFspXvdnfQzCgfGgkX2Bxonp/S00DNnzsUfh+I/yHJOkxZEIB2uhwOZN+6bh1qfRsiS80f/zF1elvkDYDlROXE+U4W4HVSd33k2W9vsWlSVSlGHAFyBMuDurJFQZDNfHs+f3w2nT+Oxk4pJ7NtKWFT2XrCeZevpKiuDR6z/r6dh43S6j5QPwZxBdW3rRdcKIfxBLMDwCtlb/f6Q6vUQB0NwV/ULWlpELVl7QmTUBu36SWeVksUqFYfULXrZs6HNBsJKVZEzRxZW1OVguDfTFwejpqZk6oRM2/x4TqNKr3yVvNT3fF+pKsDH811eJSfFkLVTf4KYBFjESA4pAQBjvQmpxup1oxZxIoXH3AilnoOrIJjfjcnw52ETSaL0fJl2P11mROEnMbUA9w4lP9igLWcyYYInu5B6Sw== bret.wortman@damascusgrp.com"

# Elasticsearch VM definitions
elasticsearch_vms = [
  {
    name           = "es01"
    target_node    = "pve1"
    vmid           = "301"
    clone          = "ubuntu-25.04"
    os_type        = "linux"
    cores          = "4"
    memory         = "8192"
    sockets        = "2"
    disk_size      = "1024G"
    disk_storage   = "tank"
    network_model  = "virtio"
    network_bridge = "vmbr0"
    tags           = "elasticsearch"
    ipconfig0      = "ip=192.168.10.31/24,gw=192.168.10.1"
  },
  {
    name           = "es02"
    target_node    = "pve2"
    vmid           = "302"
    clone          = "ubuntu-25.04"
    os_type        = "linux"
    cores          = "4"
    memory         = "8192"
    sockets        = "2"
    disk_size      = "1024G"
    disk_storage   = "tank"
    network_model  = "virtio"
    network_bridge = "vmbr0"
    tags           = "elasticsearch"
    ipconfig0      = "ip=192.168.10.32/24,gw=192.168.10.1"
  },
  {
    name           = "es03"
    target_node    = "pve3"
    vmid           = "303"
    clone          = "ubuntu-25.04"
    os_type        = "linux"
    cores          = "4"
    memory         = "8192"
    sockets        = "2"
    disk_size      = "1024G"
    disk_storage   = "tank"
    network_model  = "virtio"
    network_bridge = "vmbr0"
    tags           = "elasticsearch"
    ipconfig0      = "ip=192.168.10.33/24,gw=192.168.10.1"
  },
  # Add remaining VMs as needed...
]
