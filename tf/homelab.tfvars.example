# Example Terraform variables for general homelab VMs
# Copy this file to homelab.tfvars and configure for your environment
#
# IMPORTANT: Credentials are retrieved from Vault
# Run: export VAULT_ADDR="https://192.168.10.101:8200"
# Run: export VAULT_TOKEN=$(vault login -token-only)
#
# Secrets stored in Vault:
# - vault kv get secret/homelab/proxmox/terraform  (pm_user, pm_password)

# Proxmox API credentials are retrieved from Vault (see provider.tf)
# pm_user = ""       # Retrieved from: vault kv get -field=username secret/homelab/proxmox/terraform
# pm_password = ""   # Retrieved from: vault kv get -field=password secret/homelab/proxmox/terraform

# List of VMs to create
vms = [
  {
    name           = "test-vm-01"
    target_node    = "pve1"
    vmid           = "201"
    clone          = "ubuntu-25.04"
    os_type        = "linux"
    cores          = "2"
    memory         = "2048"
    sockets        = "1"
    disk_size      = "20G"
    disk_storage   = "tank"
    network_model  = "virtio"
    network_bridge = "vmbr0"
    ipconfig0      = "ip=dhcp"
  },
  {
    name           = "test-vm-02"
    target_node    = "pve2"
    vmid           = "202"
    clone          = "ubuntu-25.04"
    os_type        = "linux"
    cores          = "4"
    memory         = "4096"
    sockets        = "1"
    disk_size      = "30G"
    disk_storage   = "tank"
    network_model  = "virtio"
    network_bridge = "vmbr0"
    ipconfig0      = "ip=dhcp"
  }
]
