# Example Ansible inventory for CCHS Elasticsearch cluster
# Copy this file to 'cchs' and configure for your environment
#
# IMPORTANT: Retrieve credentials from Vault before running playbooks
# vault kv get secret/homelab/elasticsearch/cchs/credentials
# vault kv get secret/homelab/aws/s3

[elasticsearch_bootstrap]
cchs

[kibana_nodes]
cchs

[elasticsearch_all:children]
elasticsearch_bootstrap

[elasticsearch_all:vars]
elasticsearch_version=9.1.4
cluster_name=makerspace
discovery_seed_hosts=["cchs"]
cluster_initial_master_nodes=["cchs"]
# Retrieve from Vault: vault kv get -field=username secret/homelab/elasticsearch/cchs/credentials
elasticsearch_username=VAULT_SECRET_REFERENCE
# Retrieve from Vault: vault kv get -field=password secret/homelab/elasticsearch/cchs/credentials
elasticsearch_password=VAULT_SECRET_REFERENCE
# Retrieve from Vault: vault kv get -field=access_key_id secret/homelab/aws/s3
s3_access_key_id=VAULT_SECRET_REFERENCE
# Retrieve from Vault: vault kv get -field=secret_access_key secret/homelab/aws/s3
s3_secret_access_key=VAULT_SECRET_REFERENCE
s3_bucket=cchs-backups

[kibana_nodes:vars]
kibana_version=9.1.3
elasticsearch_hosts=["http://localhost:9200"]
